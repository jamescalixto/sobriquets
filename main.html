<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="img/favicon.png"/>

    <title>Sobriquets</title>
    <meta name="description" content="A cooperative "/>
    <meta name="author" content="James Calixto"/>

    <link rel="stylesheet" href="styles.css">
  </head>

  <body>
    <script type="text/javascript" src="main.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/lib/alea.min.js"></script>

    <header>
      <h1>Sobriquets</h1>
      <h2>a project by <a href="https://jamescalixto.com">James Calixto</a></h2>
    </header>

    <article id="article">
      <div id="hash-container">
        <div id="hash-name" class="hash-instructions">
          (all) enter the room name
          <input type="text" id="hash-name-field" value="">
        </div>
        <div id="hash-password" class="hash-instructions">
          (spymaster) enter a password
          <input type="text" id="hash-password-field" value="">
        </div>
        <div id="hash-submit" class="hash-instructions">
          <input type="button" id="hash-submit-button" onclick="buildNewGame()" value="Start game"> 
        </div>
      </div>

      <div id="card-template" class="card" style="display:none">
          <h3 id="card-label" class="card-label">sobriquets</h3>
      </div>

      <div id="board-container">
      </div>
    </article>
    
    <script type="text/javascript">
    function buildNewGame() {
      // Get input for seeds.
      let hash_name = document.getElementById("hash-name-field").value;
      let hash_password = document.getElementById("hash-password-field").value;
      let isSpymaster = (hash_password !== "");

      // Read in the list of words, then set up everything
      // in the callback function.
      fetch('data/default.txt')
        .then(response => response.text())
        .then(text => text.split(','))
        .then(function(word_list) {
          buildNewBoard(hash_name, hash_password, word_list, isSpymaster);
        });
    }

    </script>
</html>
